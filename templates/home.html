{% extends 'base.html' %}
{% load static %}

{% block title %}Accueil{% endblock %}

{% block extra_css %}
<style>
  .hero-wrapper {
    margin-top: -40px; /* remonter encore plus l'image vers le menu */
    position: relative;
    left: 50%;
    right: 50%;
    margin-left: -50vw;
    margin-right: -50vw;
    width: 100vw;
  }
  .hero-image {
    width: 100%;
    height: 600px; /* hauteur augmentée pour voir l'image entière */
    object-fit: cover; /* remis en cover pour plein écran */
    border-radius: 0; /* pleine largeur sans arrondis */
    display: block;
  }
  .presentation-card {
    border: 1px solid #e9ecef;
    border-radius: 0.5rem;
  }
  .presentation-body {
    padding: 2.5rem !important; /* augmente l'espace interne */
  }
  .presentation-title {
    font-size: 1.75rem; /* titre plus grand (≈ h3) */
  }
  .presentation-body p {
    font-size: 1.1rem; /* texte plus grand */
    line-height: 1.7;   /* meilleure lisibilité */
  }
  .image-card .card-img-top {
    width: 100%;
    height: 360px; /* hauteur des images dans les cards */
    object-fit: cover;
    border-top-left-radius: 0.5rem;
    border-top-right-radius: 0.5rem;
  }
</style>
{% endblock %}

{% block breadcrumb %}{% endblock %}

{% block content %}
<!-- Section image pleine largeur -->
<div class="container-fluid px-0 mb-5 hero-wrapper">
  <img
    src="{% static 'images/optimized/ecole_optimized.jpg' %}?v=2025090702"
    alt="Image de l'école"
    class="hero-image w-100"
    loading="lazy"
    decoding="async"
    onerror="this.onerror=null;this.src='https://images.unsplash.com/photo-1511634829096-045a111727eb?q=80&w=2400&auto=format&fit=crop';"
  />
</div>

<!-- Contenu de présentation -->
<div class="container py-3">
  <div class="card presentation-card mb-4">
    <div class="card-body p-5 presentation-body">
      <h1 class="h3 mb-3 presentation-title">
        <i class="fas fa-school me-2"></i>
        {% if ecole_courante %}
          Bienvenue à {{ ecole_courante.nom }}
        {% else %}
          Système de Gestion Scolaire Multi-Écoles
        {% endif %}
      </h1>
      
      {% if ecole_courante %}
        <p class="mb-2">
          Bienvenue à {{ ecole_courante.nom }}. Notre établissement {{ ecole_courante.get_type_ecole_display|lower }} 
          offre un cadre d'apprentissage moderne et bienveillant, avec une équipe pédagogique engagée pour 
          l'excellence académique et le développement personnel des élèves.
        </p>
        <p class="mb-2">
          <strong>Adresse :</strong> {{ ecole_courante.adresse }}<br>
          <strong>Téléphone :</strong> {{ ecole_courante.telephone }}<br>
          <strong>Email :</strong> {{ ecole_courante.email }}
        </p>
        {% if ecole_courante.directeur %}
        <p class="mb-2">
          <strong>Direction :</strong> {{ ecole_courante.directeur }}
        </p>
        {% endif %}
      {% else %}
        <p class="mb-2">
          Bienvenue sur le système de gestion scolaire multi-écoles. Cette plateforme permet à plusieurs 
          établissements scolaires de gérer leurs élèves, paiements, dépenses et rapports de manière 
          centralisée et sécurisée.
        </p>
        <p class="mb-2">
          Chaque école dispose de son propre espace personnalisé avec ses utilisateurs, ses données 
          et ses configurations spécifiques.
        </p>
      {% endif %}
      
      <p class="mb-0">
        Pour plus d'informations, veuillez contacter l'administration ou visiter les sections du site via le menu ci-dessus.
      </p>
      
      {% if not user.is_authenticated %}
      <div class="mt-4">
        <a href="{% url 'utilisateurs:login' %}" class="btn btn-primary me-3">
          <i class="fas fa-sign-in-alt me-1"></i>Se connecter
        </a>
        <a href="{% url 'inscription_ecoles:inscription_ecole_complete' %}" class="btn btn-outline-success me-2">
          <i class="fas fa-plus me-1"></i>Inscrire votre école (Complet)
        </a>
        <a href="{% url 'inscription_ecoles:inscription_ecole' %}" class="btn btn-outline-secondary">
          <i class="fas fa-plus me-1"></i>Inscription simple
        </a>
      </div>
      {% endif %}
    </div>
  </div>
</div>

<!-- Deux cards d'images -->
<div class="container pb-4" style="margin-top: 30px;">
  <div class="row g-4">
    <div class="col-md-6">
      <div class="card shadow-sm image-card">
        <img
          src="{% static 'images/optimized/carte1_optimized.jpg' %}?v=2025090702"
          alt="Image présentation 1"
          class="card-img-top"
          loading="lazy"
          decoding="async"
          onerror="this.onerror=null;this.src='https://images.unsplash.com/photo-1523050854058-8df90110c9f1?q=80&w=1200&auto=format&fit=crop';"
        />
      </div>
    </div>
    <div class="col-md-6">
      <div class="card shadow-sm image-card">
        <img
          src="{% static 'images/optimized/carte2_optimized.jpg' %}?v=2025090702"
          alt="Image présentation 2"
          class="card-img-top"
          loading="lazy"
          decoding="async"
          onerror="this.onerror=null;this.src='https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?q=80&w=1200&auto=format&fit=crop';"
        />
      </div>
    </div>
  </div>
  <!-- Astuce: placez vos images dans static/images/carte1.jpg et static/images/carte2.jpg -->
</div>
{% endblock %}
