{% extends "base.html" %}
{% load static %}

{% block title %}Inscription √âcole - √âcole Moderne{% endblock %}

{% block extra_css %}
<style>
    .inscription-container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 20px;
    }
    .section-card {
        background: white;
        border-radius: 10px;
        padding: 25px;
        margin-bottom: 20px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .section-title {
        color: #1976d2;
        border-bottom: 2px solid #1976d2;
        padding-bottom: 10px;
        margin-bottom: 20px;
    }
    .form-row {
        display: flex;
        gap: 15px;
        margin-bottom: 15px;
    }
    .form-group {
        flex: 1;
    }
    .required-field::after {
        content: " *";
        color: red;
    }
    .btn-inscription {
        background: linear-gradient(45deg, #1976d2, #42a5f5);
        border: none;
        padding: 12px 30px;
        color: white;
        border-radius: 25px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s;
    }
    .btn-inscription:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(25, 118, 210, 0.4);
    }
</style>
{% endblock %}

{% block content %}
<div class="inscription-container">
    <div class="text-center mb-4">
        <h1 class="display-4 text-primary">üìö Inscription √âcole</h1>
        <p class="lead">Rejoignez notre plateforme de gestion scolaire moderne</p>
    </div>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <!-- Informations du demandeur -->
        <div class="section-card">
            <h3 class="section-title">üë§ Informations du demandeur</h3>
            <div class="form-row">
                <div class="form-group">
                    <label class="required-field">Nom</label>
                    {{ form.nom_demandeur }}
                </div>
                <div class="form-group">
                    <label class="required-field">Pr√©nom</label>
                    {{ form.prenom_demandeur }}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label class="required-field">Fonction dans l'√©cole</label>
                    {{ form.fonction_demandeur }}
                </div>
                <div class="form-group">
                    <label class="required-field">T√©l√©phone</label>
                    {{ form.telephone_demandeur }}
                </div>
            </div>
            <div class="form-group">
                <label class="required-field">Email</label>
                {{ form.email_demandeur }}
            </div>
        </div>

        <!-- Informations de l'√©cole -->
        <div class="section-card">
            <h3 class="section-title">üè´ Informations de l'√©cole</h3>
            <div class="form-row">
                <div class="form-group">
                    <label class="required-field">Nom de l'√©cole</label>
                    {{ form.nom_ecole }}
                </div>
                <div class="form-group">
                    <label>Nom complet officiel</label>
                    {{ form.nom_complet_ecole }}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label class="required-field">Type d'√©cole</label>
                    {{ form.type_ecole }}
                </div>
                <div class="form-group">
                    <label class="required-field">Directeur/Directrice</label>
                    {{ form.nom_directeur }}
                </div>
            </div>
            <div class="form-group">
                <label class="required-field">Adresse compl√®te</label>
                {{ form.adresse_ecole }}
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label class="required-field">Ville</label>
                    {{ form.ville }}
                </div>
                <div class="form-group">
                    <label class="required-field">Pr√©fecture</label>
                    {{ form.prefecture }}
                </div>
            </div>
        </div>

        <!-- Contact -->
        <div class="section-card">
            <h3 class="section-title">üìû Informations de contact</h3>
            <div class="form-row">
                <div class="form-group">
                    <label class="required-field">T√©l√©phone principal</label>
                    {{ form.telephone_ecole }}
                </div>
                <div class="form-group">
                    <label>T√©l√©phone directeur</label>
                    {{ form.telephone_directeur }}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label class="required-field">Email officiel</label>
                    {{ form.email_ecole }}
                </div>
                <div class="form-group">
                    <label>Site web</label>
                    {{ form.site_web }}
                </div>
            </div>
        </div>

        <!-- Informations l√©gales -->
        <div class="section-card">
            <h3 class="section-title">üìã Informations l√©gales et documents</h3>
            <div class="form-row">
                <div class="form-group">
                    <label>Num√©ro d'autorisation</label>
                    {{ form.numero_autorisation }}
                </div>
                <div class="form-group">
                    <label>Date d'autorisation</label>
                    {{ form.date_autorisation }}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Logo de l'√©cole</label>
                    {{ form.logo_ecole }}
                    <small class="text-muted">Format: JPG, PNG (max 2MB)</small>
                </div>
                <div class="form-group">
                    <label>Document d'autorisation</label>
                    {{ form.document_autorisation }}
                    <small class="text-muted">Format: PDF, DOC, DOCX</small>
                </div>
            </div>
        </div>

        <!-- Statistiques -->
        <div class="section-card">
            <h3 class="section-title">üìä Informations sur l'√©tablissement</h3>
            <div class="form-row">
                <div class="form-group">
                    <label class="required-field">Nombre d'√©l√®ves estim√©</label>
                    {{ form.nombre_eleves_estime }}
                </div>
                <div class="form-group">
                    <label class="required-field">Nombre d'enseignants</label>
                    {{ form.nombre_enseignants }}
                </div>
            </div>
            <div class="form-group">
                <label class="required-field">Niveaux enseign√©s</label>
                {{ form.niveaux_enseignes }}
            </div>
            <div class="form-group">
                <label>Commentaires suppl√©mentaires</label>
                {{ form.commentaire_demandeur }}
            </div>
        </div>

        <!-- Bouton de soumission -->
        <div class="text-center">
            <button type="submit" class="btn-inscription">
                üöÄ Envoyer ma demande d'inscription
            </button>
            <p class="text-muted mt-3">
                <small>* Champs obligatoires. Votre demande sera trait√©e sous 48h.</small>
            </p>
        </div>
    </form>
</div>

<script>
// Validation c√¥t√© client
document.querySelector('form').addEventListener('submit', function(e) {
    const requiredFields = document.querySelectorAll('input[required], select[required], textarea[required]');
    let hasError = false;
    
    requiredFields.forEach(field => {
        if (!field.value.trim()) {
            field.style.borderColor = 'red';
            hasError = true;
        } else {
            field.style.borderColor = '';
        }
    });
    
    if (hasError) {
        e.preventDefault();
        alert('Veuillez remplir tous les champs obligatoires.');
    }
});
</script>
{% endblock %}
